{% block body %}
<center>
<br><br>
<h2>Corona Cases In Indian Subcontinent</h2><br>

  {% for item in world_data %}
  {{item.country}},
  {% endfor %}


<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-sunburst.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-data-adapter.min.js"></script>
 
<div id="container"></div>




<script>





anychart.onDocumentReady(function () {
{# https://gist.githubusercontent.com/shacheeswadia/3955e21fff7eddcc3862ec4797109cda/raw/209c22d8c607cf76b16ec18c7fd95c02e5fdbbe3/sunburstData.json #}
  {# https://raw.githubusercontent.com/deve-stack/covid_19_project/master/views/api.json #}
anychart.data.loadJsonFile('https://raw.githubusercontent.com/deve-stack/covid_19_project/master/views/api.json',
  function (data) {
    // create a data tree from the dataset
    var dataTree = anychart.data.tree(data);
    
    // create a sunburst chart
    var chart = anychart.sunburst(dataTree);

    // set the calculation mode
    chart.calculationMode('parent-independent');

    // set the ascending sort order
    chart.sort('asc');

 
   
  
    // set the chart container element id
    chart.container('container');

    // initiate chart drawing
    chart.draw();
  
  });
});

</script>    


  <div class="container table-responsive">
    <table class="table" id="country-table">
      <thead class="table-dark">
        <tr>
          <th>s.no</th>
          <th>Country</th>
          <th>Total Cases</th>
          <th>Recovered</th>
          <th>Active</th>
          <th>Deaths</th>
         
        </tr>
      </thead>
      <tbody>
      {% set ind = 0 %}
      {% for item in world_data %}
      {% if ind > 0 %}
        <tr>
          <td>{{ ind }}</td>
          <td><a href='/country/{{ item.country }}'>{{ item.country }}</a></td>
          <td>{{ item.cases }}</td>
           <td>{{ item.recovered }}</td>
           <td>{{ item.active }}</td>
             <td>{{ item.deaths }}</td>
         
        </tr>
      {% endif %}
      {% set ind=ind+1 %}
      {% endfor %}
      </tbody>
    </table>
    <script>
      $(document).ready(function() {
        $('#country-table').DataTable();
      });
    </script>

  </div>
</center>
{% endblock %}
